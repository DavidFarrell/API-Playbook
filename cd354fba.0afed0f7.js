(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{111:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var o=n(0),r=n.n(o);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),p=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=p(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},g={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=r.a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,a=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),u=p(n),b=o,d=u["".concat(a,".").concat(b)]||u[b]||g[b]||i;return n?r.a.createElement(d,l(l({ref:t},s),{},{components:n})):r.a.createElement(d,l({ref:t},s))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=b;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:o,a[1]=l;for(var s=2;s<i;s++)a[s]=n[s];return r.a.createElement.apply(null,a)}return r.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"},99:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return a})),n.d(t,"metadata",(function(){return l})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return p}));var o=n(3),r=n(7),i=(n(0),n(111)),a={id:"centralised_logging",title:"Centralised Logging and Monitoring"},l={unversionedId:"centralised_logging",id:"centralised_logging",isDocsHomePage:!1,title:"Centralised Logging and Monitoring",description:"*  Proposal for Monitoring and Alerting  *",source:"@site/docs/centralised_logging.md",slug:"/centralised_logging",permalink:"/API-Playbook/centralised_logging",editUrl:"https://github.com/LBHackney-IT/API-Playbook/edit/master/docs/centralised_logging.md",version:"current",sidebar:"docs",previous:{title:"AWS API Gateway good practices",permalink:"/API-Playbook/aws_good_practices"},next:{title:"Uptime Monitoring",permalink:"/API-Playbook/uptime_monitoring"}},c=[{value:"Introduction",id:"introduction",children:[]},{value:"Current practice",id:"current-practice",children:[]},{value:"Leveraging Existing Tooling",id:"leveraging-existing-tooling",children:[]},{value:"Log message structure",id:"log-message-structure",children:[]},{value:"Date and type of entry",id:"date-and-type-of-entry",children:[]}],s={toc:c};function p(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(o.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"}," ",Object(i.b)("u",null," Proposal for Monitoring and Alerting ")," ")),Object(i.b)("h2",{id:"introduction"},"Introduction"),Object(i.b)("p",null,"This document outlines a proposal for how we might want to approach monitoring and alerting in our APIs and supporting infrastructure."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"}," Application Level Logging ")),Object(i.b)("p",null,"Application level logging is an integral part of the application development process.  It provides useful insight into what is happening under the hood when your application runs.  Now that our applications are becoming more cloud native it is becoming more and more important to have useful information coming out of your application for monitoring and debugging purposes.  This document aims to propose some logging standards and best practices for our application."),Object(i.b)("h2",{id:"current-practice"},"Current practice"),Object(i.b)("p",null,"Currently in our APIs there is no set standard on what or how we log or even if we should log.  As a result many of our applications do not provide suitable logging information making it difficult at times to debug any issues.  At the bare minimum the framework used in our APIs provide framework specific logging including exceptions.  There have been some applications that provide excellent logging giving a developer or support person valuable insight into what is happening in the application.  In order to become more proactive in identifying issues and possible causes, we need to standardise and improve our logging consistently across all of our applications and services."),Object(i.b)("h2",{id:"leveraging-existing-tooling"},"Leveraging Existing Tooling"),Object(i.b)("p",null,"There are a number of tools that exist that provide robust, battle tested logging mechanisms.  Some of these that we have used in the past include:"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"NLog")),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Log4net")),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Asp.net core logging framework"))),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"}," Developing a Custom Solution ")),Object(i.b)("p",null,"It is also reasonable to define our own custom logging solution which could be shared across all projects, possibly by building a Nuget package module which can be added to our base API as well as referenced in any existing projects"),Object(i.b)("h2",{id:"log-message-structure"},"Log message structure"),Object(i.b)("p",null,"In order to have a clear view and a consistent understanding of log entries it is best to define a meaningful structure for your log entries:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre"},"  {\n      \u201cLog type\u201d: \u201cCaptain\u2019s log\u201d\n\n      \u201cDate\u201d: \u201c3443.2\u201d\n\n      \u201cLog Details\u201d: \u201cWe have reached the Veridian mining colony.\u201d\n\n      \u201cCorrelation Id\u201d:\n    }\n")),Object(i.b)("p",null,"With a consistent standard of logging.  Logs can be scrutinised by a person or be consumed by another tool to extend our insight capabilities."),Object(i.b)("p",null," Possible properties for a log entry could include:"),Object(i.b)("h2",{id:"date-and-type-of-entry"},"Date and type of entry"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"}," Type of entry such as: ")),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"Information"),Object(i.b)("li",{parentName:"ol"},"Debug"),Object(i.b)("li",{parentName:"ol"},"Warning"),Object(i.b)("li",{parentName:"ol"},"Error"),Object(i.b)("li",{parentName:"ol"},"Critical"),Object(i.b)("li",{parentName:"ol"},"Message detail"),Object(i.b)("li",{parentName:"ol"},"Debug information"),Object(i.b)("li",{parentName:"ol"},"Component that created the entry")))}p.isMDXComponent=!0}}]);