(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{119:function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return f}));var r=n(0),o=n.n(r);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var u=o.a.createContext({}),l=function(t){var e=o.a.useContext(u),n=e;return t&&(n="function"==typeof t?t(e):s(s({},e),t)),n},p=function(t){var e=l(t.components);return o.a.createElement(u.Provider,{value:e},t.children)},b={inlineCode:"code",wrapper:function(t){var e=t.children;return o.a.createElement(o.a.Fragment,{},e)}},d=o.a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,i=t.originalType,c=t.parentName,u=a(t,["components","mdxType","originalType","parentName"]),p=l(n),d=r,f=p["".concat(c,".").concat(d)]||p[d]||b[d]||i;return n?o.a.createElement(f,s(s({ref:e},u),{},{components:n})):o.a.createElement(f,s({ref:e},u))}));function f(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=n.length,c=new Array(i);c[0]=d;var s={};for(var a in e)hasOwnProperty.call(e,a)&&(s[a]=e[a]);s.originalType=t,s.mdxType="string"==typeof t?t:r,c[1]=s;for(var u=2;u<i;u++)c[u]=n[u];return o.a.createElement.apply(null,c)}return o.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},184:function(t,e,n){"use strict";n.r(e),e.default=n.p+"assets/images/code1-13ab0416b9fd450c5139f888be8c612f.png"},185:function(t,e,n){"use strict";n.r(e),e.default=n.p+"assets/images/code2-41a3f6c1576615651c505119be07965f.png"},186:function(t,e,n){"use strict";n.r(e),e.default=n.p+"assets/images/code3-c8083aba84b3013af6080102cf88da7d.png"},187:function(t,e,n){"use strict";n.r(e),e.default=n.p+"assets/images/code4-1e7e5b5fd0066935dfd1cca9f7b66119.png"},87:function(t,e,n){"use strict";n.r(e),n.d(e,"frontMatter",(function(){return c})),n.d(e,"metadata",(function(){return s})),n.d(e,"toc",(function(){return a})),n.d(e,"default",(function(){return l}));var r=n(3),o=n(7),i=(n(0),n(119)),c={id:"unit_test",title:"Setting Up Unit Tests"},s={unversionedId:"unit_test",id:"unit_test",isDocsHomePage:!1,title:"Setting Up Unit Tests",description:"Purpose",source:"@site/docs/unit_test.md",slug:"/unit_test",permalink:"/API-Playbook/unit_test",editUrl:"https://github.com/LBHackney-IT/API-Playbook/edit/master/docs/unit_test.md",version:"current",sidebar:"docs",previous:{title:"Good TDD Principles",permalink:"/API-Playbook/tdd"},next:{title:"Writing Unit Tests",permalink:"/API-Playbook/unit_testing"}},a=[{value:"Introduction",id:"introduction",children:[]},{value:"Setting up and using mocks",id:"setting-up-and-using-mocks",children:[]}],u={toc:a};function l(t){var e=t.components,c=Object(o.a)(t,["components"]);return Object(i.b)("wrapper",Object(r.a)({},u,c,{components:e,mdxType:"MDXLayout"}),Object(i.b)("p",null,"##\xa0Purpose"),Object(i.b)("p",null,"The purpose of this document is to demonstrate how we go about setting up our test environment.",Object(i.b)("br",{parentName:"p"}),"\n","Once you've been through this document, you should be able to understand unit tests across the majority of our projects."),Object(i.b)("h2",{id:"introduction"},"Introduction"),Object(i.b)("p",null,"Unit tests are used to test the functionality of a class in isolation.\nSo if a class depends on another we will need to mock any interactions with that class. We are using ",Object(i.b)("u",null," dependency injection "),"  so any class which needs to interact with another will be passed an interface, which the depended on class subscribes to, in the constructor.\nIn the tests, we can then just pass in a mock implementation of this interface into the constructor instead."),Object(i.b)("p",null,"There is some good advice for mocking and writing unit tests here:"),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/dotnet/core/testing/unit-testing-best-practices"},"https://docs.microsoft.com/en-us/dotnet/core/testing/unit-testing-best-practices")),Object(i.b)("h2",{id:"setting-up-and-using-mocks"},"Setting up and using mocks"),Object(i.b)("p",null,"You can use mocks to return a specific value for a given input. For example a test for the following code:"),Object(i.b)("p",null,Object(i.b)("img",{alt:"alt text",src:n(184).default})),Object(i.b)("p",null,"might look like.."),Object(i.b)("p",null,Object(i.b)("img",{alt:"alt text",src:n(185).default})),Object(i.b)("p",null,"Or you can assert that they were called with the correct inputs. For example a test for the following code.."),Object(i.b)("p",null,Object(i.b)("img",{alt:"alt text",src:n(186).default})),Object(i.b)("p",null,"might look like.."),Object(i.b)("p",null,Object(i.b)("img",{alt:"alt text",src:n(187).default})),Object(i.b)("p",null,"These examples are just a couple of common use cases for using Moq, check out the documentation link below for more examples and use cases:"),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://github.com/Moq/moq4/wiki/Quickstart"},"https://github.com/Moq/moq4/wiki/Quickstart")))}l.isMDXComponent=!0}}]);